{
  "AWSTemplateFormatVersion" : "2010-09-09",

  "Description" : "Databse for Visitor assessment",

  "Parameters" : {
    "PassedTableName": {
      "Description": "Name of DynamoDB table",
      "Type": "String",
      "MinLength" : 4,
      "MaxLength" : 20,
      "AllowedPattern" : "^[a-zA-Z][-a-zA-Z0-9]*$"
    }
  },

  "Resources" : {

    "DynamoVisitor": {
      "Type": "AWS::DynamoDB::Table",
      "Properties": {
        "TableName" : { "Ref": "PassedTableName" },
        "KeySchema": [{
          "AttributeName": "visitorname",
          "KeyType": "HASH"
        }],
        "AttributeDefinitions": [{
          "AttributeName": "visitorname",
          "AttributeType": "S"
        }],
        "ProvisionedThroughput": {
          "ReadCapacityUnits": 5,
          "WriteCapacityUnits": 5
        }
      }
    }
  },
  
  "Outputs" : {
    "VisitorDBArn" : {
      "Description" : "Visitor DynamoDB",
      "Value": {"Fn::GetAtt": ["DynamoVisitor","Arn"]}
    }
  }
}